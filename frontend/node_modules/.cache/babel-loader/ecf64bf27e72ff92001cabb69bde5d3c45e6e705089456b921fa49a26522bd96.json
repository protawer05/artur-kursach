{"ast":null,"code":"var _jsxFileName = \"/home/gasper/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/artur-food/src/components/pages/profilePage/ProfilePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport orderStatusService from '../../services/orderStatusService';\nimport s from './profilePage.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfilePage = ({\n  currentUser,\n  onUserUpdate\n}) => {\n  _s();\n  const [userData, setUserData] = useState(currentUser);\n  const [orders, setOrders] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isEditing, setIsEditing] = useState(false);\n  useEffect(() => {\n    if (currentUser) {\n      setUserData(currentUser);\n      fetchOrders();\n    }\n\n    // Очищаем интервалы при размонтировании компонента\n    return () => {\n      // orderStatusService.stopAll(); // Раскомментировать если нужно останавливать при уходе со страницы\n    };\n  }, [currentUser]);\n  const fetchOrders = async () => {\n    try {\n      const response = await fetch(`https://68d662abc2a1754b426a8851.mockapi.io/orders?userId=${currentUser.id}`);\n      if (!response.ok) throw new Error('Orders not found');\n      const data = await response.json();\n      const ordersArray = Array.isArray(data) ? data : [];\n      setOrders(ordersArray);\n\n      // Запускаем автоматическое обновление статусов для активных заказов\n      const activeOrders = ordersArray.filter(order => order.status !== 'delivered' && order.status !== 'completed');\n      orderStatusService.startForAllActiveOrders(activeOrders);\n    } catch (error) {\n      console.error('Ошибка загрузки заказов:', error);\n      setOrders([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Функция для подписки на обновления статусов (опционально)\n  const setupStatusListener = () => {\n    // Можно добавить WebSocket или Polling для реального времени\n    // Пока просто перезагружаем заказы каждые 35 секунд для демонстрации\n    const refreshInterval = setInterval(() => {\n      fetchOrders();\n    }, 35000);\n    return () => clearInterval(refreshInterval);\n  };\n  useEffect(() => {\n    const cleanup = setupStatusListener();\n    return cleanup;\n  }, []);\n  const handleSave = async () => {\n    try {\n      const response = await fetch(`https://68d662abc2a1754b426a8851.mockapi.io/users/${currentUser.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...userData,\n          updatedAt: new Date().toISOString()\n        })\n      });\n      if (response.ok) {\n        const updatedUser = await response.json();\n        onUserUpdate(updatedUser);\n        setIsEditing(false);\n        alert('Данные успешно сохранены!');\n      } else {\n        throw new Error('Failed to save');\n      }\n    } catch (error) {\n      console.error('Ошибка сохранения данных:', error);\n      onUserUpdate(userData);\n      setIsEditing(false);\n      alert('Данные сохранены локально');\n    }\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'processing':\n        return 'В обработке';\n      case 'cooking':\n        return 'Готовится';\n      case 'delivering':\n        return 'Доставляется';\n      case 'delivered':\n        return 'Доставлен';\n      case 'completed':\n        return 'Выполнен';\n      default:\n        return status;\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('ru-RU', {\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.loading,\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 10\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.profilePage,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.container,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: s.title,\n        children: \"\\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.profileContent,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.ordersHistory,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 7\n          }, this), orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: s.noOrders,\n            children: \"\\u0423 \\u0432\\u0430\\u0441 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.ordersList,\n            children: orders.map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: s.orderItem,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: s.orderHeader,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: s.orderInfo,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: s.orderNumber,\n                    children: [\"\\u0417\\u0430\\u043A\\u0430\\u0437 \", order.orderNumber]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: s.orderDate,\n                    children: [\"\\u043E\\u0442 \", formatDate(order.date)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${s.orderStatus} ${s[order.status]}`,\n                  children: getStatusText(order.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: s.orderDetails,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: s.orderType,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\u0422\\u0438\\u043F:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 13\n                  }, this), ' ', order.type === 'delivery' ? 'Доставка' : 'Самовывоз']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: s.orderTotal,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\u0421\\u0443\\u043C\\u043C\\u0430:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 13\n                  }, this), \" \", order.total, \" \\u0440\\u0443\\u0431\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: s.orderItems,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 13\n                  }, this), ' ', order.items.map(item => `${item.name} (${item.quantity} шт)`).join(', ')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 12\n                }, this), order.deliveryAddress && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: s.orderAddress,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 14\n                  }, this), ' ', order.deliveryAddress]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 13\n                }, this), order.pickupPoint && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: s.orderPickup,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"\\u0422\\u043E\\u0447\\u043A\\u0430 \\u0441\\u0430\\u043C\\u043E\\u0432\\u044B\\u0432\\u043E\\u0437\\u0430:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 14\n                  }, this), \" \", order.pickupPoint]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 11\n              }, this)]\n            }, order.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 3\n  }, this);\n};\n_s(ProfilePage, \"fEmX4LNZhMcd8VbeVTEnvC270WU=\");\n_c = ProfilePage;\nexport default ProfilePage;\nvar _c;\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","orderStatusService","s","jsxDEV","_jsxDEV","ProfilePage","currentUser","onUserUpdate","_s","userData","setUserData","orders","setOrders","isLoading","setIsLoading","isEditing","setIsEditing","fetchOrders","response","fetch","id","ok","Error","data","json","ordersArray","Array","isArray","activeOrders","filter","order","status","startForAllActiveOrders","error","console","setupStatusListener","refreshInterval","setInterval","clearInterval","cleanup","handleSave","method","headers","body","JSON","stringify","updatedAt","Date","toISOString","updatedUser","alert","getStatusText","formatDate","dateString","toLocaleDateString","day","month","year","hour","minute","className","loading","children","fileName","_jsxFileName","lineNumber","columnNumber","profilePage","container","title","profileContent","ordersHistory","length","noOrders","ordersList","map","orderItem","orderHeader","orderInfo","orderNumber","orderDate","date","orderStatus","orderDetails","orderType","type","orderTotal","total","orderItems","items","item","name","quantity","join","deliveryAddress","orderAddress","pickupPoint","orderPickup","_c","$RefreshReg$"],"sources":["/home/gasper/Рабочий стол/artur-food/src/components/pages/profilePage/ProfilePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport orderStatusService from '../../services/orderStatusService'\nimport s from './profilePage.module.scss'\n\nconst ProfilePage = ({ currentUser, onUserUpdate }) => {\n\tconst [userData, setUserData] = useState(currentUser)\n\tconst [orders, setOrders] = useState([])\n\tconst [isLoading, setIsLoading] = useState(true)\n\tconst [isEditing, setIsEditing] = useState(false)\n\n\tuseEffect(() => {\n\t\tif (currentUser) {\n\t\t\tsetUserData(currentUser)\n\t\t\tfetchOrders()\n\t\t}\n\n\t\t// Очищаем интервалы при размонтировании компонента\n\t\treturn () => {\n\t\t\t// orderStatusService.stopAll(); // Раскомментировать если нужно останавливать при уходе со страницы\n\t\t}\n\t}, [currentUser])\n\n\tconst fetchOrders = async () => {\n\t\ttry {\n\t\t\tconst response = await fetch(\n\t\t\t\t`https://68d662abc2a1754b426a8851.mockapi.io/orders?userId=${currentUser.id}`\n\t\t\t)\n\t\t\tif (!response.ok) throw new Error('Orders not found')\n\t\t\tconst data = await response.json()\n\n\t\t\tconst ordersArray = Array.isArray(data) ? data : []\n\t\t\tsetOrders(ordersArray)\n\n\t\t\t// Запускаем автоматическое обновление статусов для активных заказов\n\t\t\tconst activeOrders = ordersArray.filter(\n\t\t\t\torder => order.status !== 'delivered' && order.status !== 'completed'\n\t\t\t)\n\t\t\torderStatusService.startForAllActiveOrders(activeOrders)\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка загрузки заказов:', error)\n\t\t\tsetOrders([])\n\t\t} finally {\n\t\t\tsetIsLoading(false)\n\t\t}\n\t}\n\n\t// Функция для подписки на обновления статусов (опционально)\n\tconst setupStatusListener = () => {\n\t\t// Можно добавить WebSocket или Polling для реального времени\n\t\t// Пока просто перезагружаем заказы каждые 35 секунд для демонстрации\n\t\tconst refreshInterval = setInterval(() => {\n\t\t\tfetchOrders()\n\t\t}, 35000)\n\n\t\treturn () => clearInterval(refreshInterval)\n\t}\n\n\tuseEffect(() => {\n\t\tconst cleanup = setupStatusListener()\n\t\treturn cleanup\n\t}, [])\n\n\tconst handleSave = async () => {\n\t\ttry {\n\t\t\tconst response = await fetch(\n\t\t\t\t`https://68d662abc2a1754b426a8851.mockapi.io/users/${currentUser.id}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t...userData,\n\t\t\t\t\t\tupdatedAt: new Date().toISOString(),\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tif (response.ok) {\n\t\t\t\tconst updatedUser = await response.json()\n\t\t\t\tonUserUpdate(updatedUser)\n\t\t\t\tsetIsEditing(false)\n\t\t\t\talert('Данные успешно сохранены!')\n\t\t\t} else {\n\t\t\t\tthrow new Error('Failed to save')\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Ошибка сохранения данных:', error)\n\t\t\tonUserUpdate(userData)\n\t\t\tsetIsEditing(false)\n\t\t\talert('Данные сохранены локально')\n\t\t}\n\t}\n\n\tconst getStatusText = status => {\n\t\tswitch (status) {\n\t\t\tcase 'processing':\n\t\t\t\treturn 'В обработке'\n\t\t\tcase 'cooking':\n\t\t\t\treturn 'Готовится'\n\t\t\tcase 'delivering':\n\t\t\t\treturn 'Доставляется'\n\t\t\tcase 'delivered':\n\t\t\t\treturn 'Доставлен'\n\t\t\tcase 'completed':\n\t\t\t\treturn 'Выполнен'\n\t\t\tdefault:\n\t\t\t\treturn status\n\t\t}\n\t}\n\n\tconst formatDate = dateString => {\n\t\treturn new Date(dateString).toLocaleDateString('ru-RU', {\n\t\t\tday: 'numeric',\n\t\t\tmonth: 'long',\n\t\t\tyear: 'numeric',\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t})\n\t}\n\n\tif (isLoading) {\n\t\treturn <div className={s.loading}>Загрузка...</div>\n\t}\n\n\treturn (\n\t\t<div className={s.profilePage}>\n\t\t\t<div className={s.container}>\n\t\t\t\t<h1 className={s.title}>Мой профиль</h1>\n\n\t\t\t\t<div className={s.profileContent}>\n\t\t\t\t\t{/* ... остальной код профиля без изменений ... */}\n\n\t\t\t\t\t<div className={s.ordersHistory}>\n\t\t\t\t\t\t<h2>История заказов</h2>\n\t\t\t\t\t\t{orders.length === 0 ? (\n\t\t\t\t\t\t\t<p className={s.noOrders}>У вас пока нет заказов</p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className={s.ordersList}>\n\t\t\t\t\t\t\t\t{orders.map(order => (\n\t\t\t\t\t\t\t\t\t<div key={order.id} className={s.orderItem}>\n\t\t\t\t\t\t\t\t\t\t<div className={s.orderHeader}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.orderInfo}>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={s.orderNumber}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tЗаказ {order.orderNumber}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={s.orderDate}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tот {formatDate(order.date)}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<span className={`${s.orderStatus} ${s[order.status]}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{getStatusText(order.status)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className={s.orderDetails}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.orderType}>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Тип:</strong>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{order.type === 'delivery' ? 'Доставка' : 'Самовывоз'}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.orderTotal}>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Сумма:</strong> {order.total} руб\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className={s.orderItems}>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Товары:</strong>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{order.items\n\t\t\t\t\t\t\t\t\t\t\t\t\t.map(item => `${item.name} (${item.quantity} шт)`)\n\t\t\t\t\t\t\t\t\t\t\t\t\t.join(', ')}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t{order.deliveryAddress && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={s.orderAddress}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Адрес доставки:</strong>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{order.deliveryAddress}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t{order.pickupPoint && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={s.orderPickup}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Точка самовывоза:</strong> {order.pickupPoint}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ProfilePage\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}